{
  "name": "multi_condition_module",
  "remarks": [
    "Simulates multiple problem types"
  ],
  "states": {
    "Initial": {
      "type": "Initial",
      "direct_transition": "Gender_Assignment"
    },
    "Gender_Assignment": {
      "type": "Simple",
      "distributed_transition": [
        {
          "distribution": 0.7,
          "transition": "Assign_Region",
          "set_gender": "M"
        },
        {
          "distribution": 0.3,
          "transition": "Assign_Region",
          "set_gender": "F"
        }
      ]
    },
    "Assign_Region": {
      "type": "Site",
      "remarks": [
        "Randomly assign patient to one of 5 states"
      ],
      "distributed_transition": [
        {
          "distribution": 0.2,
          "transition": "Pennsylvania"
        },
        {
          "distribution": 0.2,
          "transition": "Washington"
        },
        {
          "distribution": 0.2,
          "transition": "California"
        },
        {
          "distribution": 0.2,
          "transition": "Massachusetts"
        },
        {
          "distribution": 0.2,
          "transition": "Texas"
        }
      ]
    },
    "Pennsylvania": {
      "type": "Site",
      "direct_transition": "Age_Branching",
      "remarks": [
        "Entry point for patients in Pennsylvania"
      ]
    },
    "Washington": {
      "type": "Site",
      "direct_transition": "Age_Branching",
      "remarks": [
        "Entry point for patients in Washington"
      ]
    },
    "California": {
      "type": "Site",
      "direct_transition": "Age_Branching",
      "remarks": [
        "Entry point for patients in California"
      ]
    },
    "Massachusetts": {
      "type": "Site",
      "direct_transition": "Age_Branching",
      "remarks": [
        "Entry point for patients in Massachusetts"
      ]
    },
    "Texas": {
      "type": "Site",
      "direct_transition": "Age_Branching",
      "remarks": [
        "Entry point for patients in Texas"
      ]
    },
    "Age_Branching": {
      "type": "DistributedTransition",
      "distributed_transition": [
        {
          "condition": {
            "type": "Age",
            "operator": "<=",
            "value": 10,
            "unit": "years"
          },
          "transition": "Age_0_10",
          "distribution": 0.35
        },
        {
          "condition": {
            "type": "And",
            "conditions": [
              {
                "type": "Age",
                "operator": ">",
                "value": 10
              },
              {
                "type": "Age",
                "operator": "<=",
                "value": 20
              }
            ]
          },
          "transition": "Age_11_20",
          "distribution": 0.3
        },
        {
          "condition": {
            "type": "And",
            "conditions": [
              {
                "type": "Age",
                "operator": ">",
                "value": 20
              },
              {
                "type": "Age",
                "operator": "<=",
                "value": 40
              }
            ]
          },
          "transition": "Age_21_40",
          "distribution": 0.15
        },
        {
          "condition": {
            "type": "And",
            "conditions": [
              {
                "type": "Age",
                "operator": ">",
                "value": 40
              },
              {
                "type": "Age",
                "operator": "<=",
                "value": 65
              }
            ]
          },
          "transition": "Age_41_66",
          "distribution": 0.17
        },
        {
          "condition": {
            "type": "Age",
            "operator": ">",
            "value": 65
          },
          "transition": "Age_66_plus",
          "distribution": 0.03
        }
      ]
    },
    "Age_0_10": {
      "type": "SetAttribute",
      "attribute": "age_group",
      "value": "child",
      "direct_transition": "Assign_Grouped_Conditions"
    },
    "Age_11_20": {
      "type": "SetAttribute",
      "attribute": "age_group",
      "value": "adolescent",
      "direct_transition": "Assign_Grouped_Conditions"
    },
    "Age_21_40": {
      "type": "SetAttribute",
      "attribute": "age_group",
      "value": "young_adult",
      "direct_transition": "Assign_Grouped_Conditions"
    },
    "Age_41_66": {
      "type": "SetAttribute",
      "attribute": "age_group",
      "value": "middle_aged",
      "direct_transition": "Assign_Grouped_Conditions"
    },
    "Age_66_plus": {
      "type": "SetAttribute",
      "attribute": "age_group",
      "value": "senior",
      "direct_transition": "Assign_Grouped_Conditions"
    },
    "Assign_Grouped_Conditions": {
      "type": "SetAttribute",
      "assignments": [
        {
          "attribute": "has_Contractures_tendon",
          "value": {
            "condition_type": "random",
            "range": [
              0,
              1
            ]
          }
        },
        {
          "attribute": "has_Developmental_Delay",
          "value": {
            "condition_type": "random",
            "range": [
              0,
              1
            ]
          }
        },
        {
          "attribute": "has_Cardiomyopathy",
          "value": {
            "condition_type": "random",
            "range": [
              0,
              1
            ]
          }
        },
        {
          "attribute": "has_Reduced_ventilation",
          "value": {
            "condition_type": "random",
            "range": [
              0,
              1
            ]
          }
        },
        {
          "attribute": "has_Osteoporosis",
          "value": {
            "condition_type": "random",
            "range": [
              0,
              1
            ]
          }
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "Condition_Logic": {
      "type": "Guard",
      "conditions": [
        {
          "condition_type": "attribute",
          "attribute": "has_Contractures_tendon",
          "operator": ">=",
          "value": 0.5
        },
        {
          "condition_type": "attribute",
          "attribute": "has_Developmental_Delay",
          "operator": ">=",
          "value": 0.5
        },
        {
          "condition_type": "attribute",
          "attribute": "has_Cardiomyopathy",
          "operator": ">=",
          "value": 0.5
        },
        {
          "condition_type": "attribute",
          "attribute": "has_Reduced_ventilation",
          "operator": ">=",
          "value": 0.5
        },
        {
          "condition_type": "attribute",
          "attribute": "has_Osteoporosis",
          "operator": ">=",
          "value": 0.5
        }
      ],
      "allow": [
        "Check_Contractures_tendon",
        "Check_Developmental_Delay",
        "Check_Cardiomyopathy",
        "Check_Reduced_ventilation",
        "Check_Osteoporosis"
      ],
      "default_transition": "End"
    },
    "Check_Contractures_tendon": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "ICD-10",
          "code": "M62.40",
          "display": "Contractures (tendon) - M62.40"
        },
        {
          "system": "ICD-10",
          "code": "M62.41",
          "display": "Contractures (tendon) - M62.41"
        },
        {
          "system": "ICD-10",
          "code": "M62.42",
          "display": "Contractures (tendon) - M62.42"
        },
        {
          "system": "ICD-10",
          "code": "M62.43",
          "display": "Contractures (tendon) - M62.43"
        },
        {
          "system": "ICD-10",
          "code": "M62.44",
          "display": "Contractures (tendon) - M62.44"
        },
        {
          "system": "ICD-10",
          "code": "M62.45",
          "display": "Contractures (tendon) - M62.45"
        },
        {
          "system": "ICD-10",
          "code": "M62.46",
          "display": "Contractures (tendon) - M62.46"
        },
        {
          "system": "ICD-10",
          "code": "M62.47",
          "display": "Contractures (tendon) - M62.47"
        },
        {
          "system": "ICD-10",
          "code": "M62.48",
          "display": "Contractures (tendon) - M62.48"
        },
        {
          "system": "ICD-10",
          "code": "M62.49",
          "display": "Contractures (tendon) - M62.49"
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "Check_Developmental_Delay": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "ICD-10",
          "code": "F82",
          "display": "Developmental Delay - F82"
        },
        {
          "system": "ICD-10",
          "code": "F88",
          "display": "Developmental Delay - F88"
        },
        {
          "system": "ICD-10",
          "code": "F80.9",
          "display": "Developmental Delay - F80.9"
        },
        {
          "system": "ICD-10",
          "code": "F80.89",
          "display": "Developmental Delay - F80.89"
        },
        {
          "system": "ICD-10",
          "code": "F80.1",
          "display": "Developmental Delay - F80.1"
        },
        {
          "system": "ICD-10",
          "code": "F80.2",
          "display": "Developmental Delay - F80.2"
        },
        {
          "system": "ICD-10",
          "code": "F89",
          "display": "Developmental Delay - F89"
        },
        {
          "system": "ICD-10",
          "code": "R62.50",
          "display": "Developmental Delay - R62.50"
        },
        {
          "system": "ICD-10",
          "code": "Z13.42",
          "display": "Developmental Delay - Z13.42"
        },
        {
          "system": "ICD-10",
          "code": "Z13.40",
          "display": "Developmental Delay - Z13.40"
        },
        {
          "system": "ICD-10",
          "code": "Z13.49",
          "display": "Developmental Delay - Z13.49"
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "Check_Cardiomyopathy": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "ICD-10",
          "code": "I42.0",
          "display": "Cardiomyopathy - I42.0"
        },
        {
          "system": "ICD-10",
          "code": "I42.9",
          "display": "Cardiomyopathy - I42.9"
        },
        {
          "system": "ICD-10",
          "code": "I43",
          "display": "Cardiomyopathy - I43"
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "Check_Reduced_ventilation": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "ICD-10",
          "code": "J98.4",
          "display": "Reduced ventilation - J98.4"
        },
        {
          "system": "ICD-10",
          "code": "R94.2",
          "display": "Reduced ventilation - R94.2"
        },
        {
          "system": "ICD-10",
          "code": "J96",
          "display": "Reduced ventilation - J96"
        },
        {
          "system": "ICD-10",
          "code": "R06.89",
          "display": "Reduced ventilation - R06.89"
        },
        {
          "system": "ICD-10",
          "code": "J96.11",
          "display": "Reduced ventilation - J96.11"
        },
        {
          "system": "ICD-10",
          "code": "Z99.1",
          "display": "Reduced ventilation - Z99.1"
        },
        {
          "system": "ICD-10",
          "code": "Z99.11",
          "display": "Reduced ventilation - Z99.11"
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "Check_Osteoporosis": {
      "type": "ConditionOnset",
      "codes": [
        {
          "system": "ICD-10",
          "code": "Z13.820",
          "display": "Osteoporosis - Z13.820"
        },
        {
          "system": "ICD-10",
          "code": "Z87.310",
          "display": "Osteoporosis - Z87.310"
        },
        {
          "system": "ICD-10",
          "code": "M81.8",
          "display": "Osteoporosis - M81.8"
        },
        {
          "system": "ICD-10",
          "code": "M85.9",
          "display": "Osteoporosis - M85.9"
        },
        {
          "system": "ICD-10",
          "code": "M85.80",
          "display": "Osteoporosis - M85.80"
        }
      ],
      "direct_transition": "Condition_Logic"
    },
    "End": {
      "type": "Terminal"
    }
  }
}